{"version":3,"sources":["components/crawler_span_dropdown.js","components/tweet_crawler_brothers.js","service/twitter.js","App.js","index.js"],"names":["CrawlerSpanDropdown","props","spanList","setSpan","class","className","type","name","id","value","for","map","span","onClick","TweetCrawlerBrothers","searchText","setTimer","watch","clearInterval","fetchTweets","text","password","headers","Authorization","base64url","fetch","encodeURIComponent","then","r","json","makeStyles","theme","root","flexGrow","paper","padding","spacing","textAlign","backgroundColor","color","App","useState","tweets","setTweets","setSearchText","setPassword","timer","setWatch","useEffect","setInterval","length","style","height","width","Grid","container","minHeight","maxHeight","position","item","xs","Typography","noWrap","fontSize","paddingLeft","src","image_url","borderRadius","component","fontWeight","margin","TextField","label","variant","disabled","onChange","e","target","autoComplete","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kSAEe,SAASA,EAAoBC,GAAQ,IAC1CC,EAAsBD,EAAtBC,SAAUC,EAAYF,EAAZE,QAElB,OACE,8BACE,wBAAIC,MAAM,UACR,4BACE,2BACEC,UAAU,eACVC,KAAK,QACLC,KAAK,cACLC,GAAG,oBACHC,MAAM,KAER,0BAAMJ,UAAU,yCAAhB,yCAKF,wBAAIA,UAAU,gBACZ,2BACEA,UAAU,gBACVC,KAAK,QACLC,KAAK,cACLC,GAAG,uBAEL,2BAAOH,UAAU,oBAAoBK,IAAI,sBACzC,wBAAIL,UAAU,kBACXH,EAASS,KAAI,SAAAC,GACZ,OACE,wBAAIP,UAAU,iBACZ,2BACEA,UAAU,eACVC,KAAK,QACLC,KAAK,cACLC,GAAE,sBAAiBI,GACnBC,QAAS,kBAAMV,EAAe,IAAPS,MAEzB,2BAAOP,UAAU,eAAeK,IAAG,sBAAiBE,IACjDA,EADH,eAOR,2BACEP,UAAU,qBACVK,IAAI,0BC/CD,SAASI,EAAqBb,GAAQ,IAC3Cc,EAAgCd,EAAhCc,WAAYC,EAAoBf,EAApBe,SAAUC,EAAUhB,EAAVgB,MAC9B,OACE,+BACE,+BACE,4BACE,4BACE,4BACEZ,UAAU,0BACVQ,QAAS,WACHE,GAAYC,EAAS,KAG3B,uBAAGX,UAAU,kBANf,IAMoC,wEAGtC,6BACA,4BACE,4BACEA,UAAU,0BACVQ,QAAS,WACPG,EAAS,GACTE,cAAcD,KAGhB,iF,qBCvBP,SAASE,EAAYC,EAAMC,GAChC,IAAMC,EAAU,CACdC,cAAc,SAAD,OAAWC,IAAUH,KAEpC,OAAOI,MAAM,GAAD,OANE,gEAMF,uBAA0BC,mBAAmBN,IAAS,CAChEE,YACCK,MAAK,SAAAC,GAAC,OAAIA,EAAEC,UCCCC,aAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJC,SAAU,GAEZC,MAAO,CACLC,QAASJ,EAAMK,QAAQ,GACvBC,UAAW,OACXC,gBAAiB,yBACjBC,MAAO,eA8JIC,MA1Jf,WAAgB,IAAD,EACeC,mBAAS,IADxB,mBACNC,EADM,KACEC,EADF,OAEuBF,mBAAS,IAFhC,mBAEN1B,EAFM,KAEM6B,EAFN,OAGmBH,mBAAS,IAH5B,mBAGNpB,EAHM,KAGIwB,EAHJ,OAIaJ,mBAAS,GAJtB,mBAINK,EAJM,KAIC9B,EAJD,OAKayB,mBAAS,IALtB,mBAKNxB,EALM,KAKC8B,EALD,OAMWN,mBAAS,KANpB,mBAMN7B,EANM,KAMAT,EANA,KAyBb,OAhBA6C,qBAAU,WACHjC,GACD+B,EAAQ,IACV3B,EAAYJ,EAAYM,GAAUM,MAAK,SAAAE,GACrCc,EAAU,CAACd,EAAK,QAElBkB,EACEE,aAAY,WACV9B,EAAYJ,EAAYM,GAAUM,MAAK,SAAAE,GACrCc,EAAU,CAACd,EAAK,UAEjBjB,OAGN,CAACkC,IAGF,yBAAKzC,UAAU,OACb,4BAAQA,UAAU,cAChB,6BACA,6BACCqC,EAAOQ,OAAS,EACf,yBACEC,MAAO,CACLb,gBAAiB,UACjBc,OAAQ,QACRC,MAAO,UAGT,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAACJ,MAAO,CAAEhB,QAAS,QAChC,kBAACmB,EAAA,EAAD,CACEH,MAAO,CACLK,UAAW,OACXC,UAAW,OACXC,SAAU,YAEZH,WAAS,EACTI,MAAI,EACJC,GAAI,IAEJ,kBAACN,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAGT,MAAO,CAAEd,UAAW,WACpC,uBAAGhC,UAAU,mBAEf,kBAACiD,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,IACf,kBAACN,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,GACb,kBAACC,EAAA,EAAD,CAAYC,QAAM,EAACX,MAAO,CAAEY,SAAU,QACnChD,KAIP,kBAACuC,EAAA,EAAD,CACEH,MAAO,CACLK,UAAW,QACXC,UAAW,QACXC,SAAU,WACVpB,gBAAiB,UACjB0B,YAAa,OAEfL,MAAI,EACJC,GAAI,GACJxB,QAAS,GAET,yBACE6B,IAAKvB,EAAO,GAAGwB,UACff,MAAO,CAAEC,OAAQ,OAAQe,aAAc,SAEzC,kBAACN,EAAA,EAAD,CACEO,UAAU,OACVjB,MAAO,CACLa,YAAa,MACbK,WAAY,OACZN,SAAU,OACVxB,MAAO,YAGRG,EAAO,GAAGnC,MAEb,kBAACsD,EAAA,EAAD,CACEO,UAAU,OACVjB,MAAO,CACLa,YAAa,MACbD,SAAU,MACVxB,MAAO,YAGRG,EAAO,GAAGlC,IAEb,kBAACqD,EAAA,EAAD,CACEV,MAAO,CACLY,SAAU,MACVxB,MAAO,UACP+B,OAAQ,QAGT5B,EAAO,GAAGtB,SAMnB,GAEF,6BACA,6BACA,kBAACN,EAAD,CACEC,WAAYA,EAAaM,EACzBL,SAAUA,EACVC,MAAOA,IAET,6BACA,6BACA,kBAACsD,EAAA,EAAD,CACE/D,GAAG,eACH4D,UAAU,OACVjB,MAAO,CAAEb,gBAAiB,WAC1BkC,MAAM,+DACNC,QAAQ,SACRhE,MAAOM,EACP2D,SAAU5B,EAAQ,EAClB6B,SAAU,SAAAC,GAAC,OAAIhC,EAAcgC,EAAEC,OAAOpE,UAExC,6BAEA,kBAAC8D,EAAA,EAAD,CACE/D,GAAG,wBACH2C,MAAO,CAAEb,gBAAiB,WAC1BkC,MAAM,WACNlE,KAAK,WACLwE,aAAa,mBACbL,QAAQ,SACRhE,MAAOY,EACPqD,SAAU5B,EAAQ,EAClB6B,SAAU,SAAAC,GAAC,OAAI/B,EAAY+B,EAAEC,OAAOpE,UAEtC,6BACCqC,EAAQ,EACP,GAEA,kBAAC9C,EAAD,CAAqBE,SA5IZ,CAAC,EAAG,GAAI,GAAI,IA4IoBC,QAASA,OCrK5D4E,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.c54f17d4.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function CrawlerSpanDropdown(props) {\n  const { spanList, setSpan } = props;\n\n  return (\n    <form>\n      <ul class=\"select\">\n        <li>\n          <input\n            className=\"select_close\"\n            type=\"radio\"\n            name=\"awesomeness\"\n            id=\"awesomeness-close\"\n            value=\"\"\n          />\n          <span className=\"select_label select_label-placeholder\">\n            クロール間隔\n          </span>\n        </li>\n\n        <li className=\"select_items\">\n          <input\n            className=\"select_expand\"\n            type=\"radio\"\n            name=\"awesomeness\"\n            id=\"awesomeness-opener\"\n          />\n          <label className=\"select_closeLabel\" for=\"awesomeness-close\"></label>\n          <ul className=\"select_options\">\n            {spanList.map(span => {\n              return (\n                <li className=\"select_option\">\n                  <input\n                    className=\"select_input\"\n                    type=\"radio\"\n                    name=\"awesomeness\"\n                    id={`awesomeness-${span}`}\n                    onClick={() => setSpan(span * 1000)}\n                  />\n                  <label className=\"select_label\" for={`awesomeness-${span}`}>\n                    {span}秒\n                  </label>\n                </li>\n              );\n            })}\n          </ul>\n          <label\n            className=\"select_expandLabel\"\n            for=\"awesomeness-opener\"\n          ></label>\n        </li>\n      </ul>\n    </form>\n  );\n}\n","import React from \"react\";\n\nexport default function TweetCrawlerBrothers(props) {\n  const { searchText, setTimer, watch } = props;\n  return (\n    <table>\n      <tbody>\n        <tr>\n          <td>\n            <button\n              className=\"btn-social-long-twitter\"\n              onClick={() => {\n                if (searchText) setTimer(1);\n              }}\n            >\n              <i className=\"fa fa-twitter\"></i> <span>ツイート取得</span>\n            </button>\n          </td>\n          <td></td>\n          <td>\n            <button\n              className=\"btn-social-long-twitter\"\n              onClick={() => {\n                setTimer(0);\n                clearInterval(watch);\n              }}\n            >\n              <span>取得キャンセル</span>\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  );\n}\n","import base64url from \"base64url\";\n\nconst baseUrl = \"https://asia-northeast1-fanatag-cdc8c.cloudfunctions.net/api/\";\n\nexport function fetchTweets(text, password) {\n  const headers = {\n    Authorization: `Basic ${base64url(password)}`\n  };\n  return fetch(`${baseUrl}search?text=${encodeURIComponent(text)}`, {\n    headers\n  }).then(r => r.json());\n}\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport CrawlerSpanDropdown from \"./components/crawler_span_dropdown\";\nimport TweetCrawlerBrothers from \"./components/tweet_crawler_brothers\";\nimport { fetchTweets } from \"./service/twitter\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  paper: {\n    padding: theme.spacing(1),\n    textAlign: \"left\",\n    backgroundColor: \"transparent !important\",\n    color: \"#ffffff\"\n  }\n}));\n\nfunction App() {\n  const [tweets, setTweets] = useState([]);\n  const [searchText, setSearchText] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [timer, setTimer] = useState(0);\n  const [watch, setWatch] = useState(\"\");\n  const [span, setSpan] = useState(6000);\n  const spanList = [6, 10, 15, 30];\n\n  useEffect(() => {\n    if (!searchText) return;\n    if (timer > 0) {\n      fetchTweets(searchText, password).then(json => {\n        setTweets([json[0]]);\n      });\n      setWatch(\n        setInterval(() => {\n          fetchTweets(searchText, password).then(json => {\n            setTweets([json[0]]);\n          });\n        }, span)\n      );\n    }\n  }, [timer]);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <br />\n        <br />\n        {tweets.length > 0 ? (\n          <div\n            style={{\n              backgroundColor: \"#1da1f3\",\n              height: \"130px\",\n              width: \"500px\"\n            }}\n          >\n            <Grid container style={{ padding: \"2px\" }}>\n              <Grid\n                style={{\n                  minHeight: \"25px\",\n                  maxHeight: \"25px\",\n                  position: \"relative\"\n                }}\n                container\n                item\n                xs={12}\n              >\n                <Grid item xs={1} style={{ textAlign: \"center\" }}>\n                  <i className=\"fa fa-twitter\"></i>\n                </Grid>\n                <Grid item xs={6} />\n                <Grid item xs={5}>\n                  <Typography noWrap style={{ fontSize: \"80%\" }}>\n                    {searchText}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid\n                style={{\n                  minHeight: \"105px\",\n                  maxHeight: \"105px\",\n                  position: \"relative\",\n                  backgroundColor: \"#ffffff\",\n                  paddingLeft: \"2px\"\n                }}\n                item\n                xs={12}\n                spacing={3}\n              >\n                <img\n                  src={tweets[0].image_url}\n                  style={{ height: \"15px\", borderRadius: \"50%\" }}\n                />\n                <Typography\n                  component=\"span\"\n                  style={{\n                    paddingLeft: \"5px\",\n                    fontWeight: \"bold\",\n                    fontSize: \"100%\",\n                    color: \"#000000\"\n                  }}\n                >\n                  {tweets[0].name}\n                </Typography>\n                <Typography\n                  component=\"span\"\n                  style={{\n                    paddingLeft: \"5px\",\n                    fontSize: \"70%\",\n                    color: \"#888888\"\n                  }}\n                >\n                  {tweets[0].id}\n                </Typography>\n                <Typography\n                  style={{\n                    fontSize: \"80%\",\n                    color: \"#000000\",\n                    margin: \"4px\"\n                  }}\n                >\n                  {tweets[0].text}\n                </Typography>\n              </Grid>\n            </Grid>\n          </div>\n        ) : (\n          \"\"\n        )}\n        <br />\n        <br />\n        <TweetCrawlerBrothers\n          searchText={searchText + password}\n          setTimer={setTimer}\n          watch={watch}\n        />\n        <br />\n        <br />\n        <TextField\n          id=\"filled-basic\"\n          component=\"span\"\n          style={{ backgroundColor: \"#ffffff\" }}\n          label=\"クロールしたい文字列\"\n          variant=\"filled\"\n          value={searchText}\n          disabled={timer > 0}\n          onChange={e => setSearchText(e.target.value)}\n        />\n        <br />\n\n        <TextField\n          id=\"filled-password-input\"\n          style={{ backgroundColor: \"#ffffff\" }}\n          label=\"Password\"\n          type=\"password\"\n          autoComplete=\"current-password\"\n          variant=\"filled\"\n          value={password}\n          disabled={timer > 0}\n          onChange={e => setPassword(e.target.value)}\n        />\n        <br />\n        {timer > 0 ? (\n          \"\"\n        ) : (\n          <CrawlerSpanDropdown spanList={spanList} setSpan={setSpan} />\n        )}\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}