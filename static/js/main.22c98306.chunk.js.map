{"version":3,"sources":["components/crawler_span_dropdown.js","components/tweet_crawler_brothers.js","service/twitter.js","App.js","index.js"],"names":["CrawlerSpanDropdown","props","spanList","setSpan","class","className","type","name","id","value","for","map","span","onClick","TweetCrawlerBrothers","searchText","setTimer","watch","clearInterval","fetchTweets","text","password","headers","Authorization","base64url","fetch","encodeURIComponent","then","r","json","Alert","elevation","variant","App","useState","tweets","setTweets","setSearchText","setPassword","error","setError","timer","setWatch","useEffect","setInterval","handleClose","event","reason","length","style","backgroundColor","height","width","Grid","container","padding","minHeight","maxHeight","position","item","xs","textAlign","Typography","noWrap","fontWeight","fontSize","paddingLeft","spacing","src","image_url","borderRadius","component","color","margin","TextField","label","disabled","onChange","e","target","autoComplete","Snackbar","open","autoHideDuration","onClose","severity","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.22c98306.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function CrawlerSpanDropdown(props) {\n  const { spanList, setSpan } = props;\n\n  return (\n    <form>\n      <ul class=\"select\">\n        <li>\n          <input\n            className=\"select_close\"\n            type=\"radio\"\n            name=\"awesomeness\"\n            id=\"awesomeness-close\"\n            value=\"\"\n          />\n          <span className=\"select_label select_label-placeholder\">\n            クロール間隔\n          </span>\n        </li>\n\n        <li className=\"select_items\">\n          <input\n            className=\"select_expand\"\n            type=\"radio\"\n            name=\"awesomeness\"\n            id=\"awesomeness-opener\"\n          />\n          <label className=\"select_closeLabel\" for=\"awesomeness-close\"></label>\n          <ul className=\"select_options\">\n            {spanList.map(span => {\n              return (\n                <li className=\"select_option\">\n                  <input\n                    className=\"select_input\"\n                    type=\"radio\"\n                    name=\"awesomeness\"\n                    id={`awesomeness-${span}`}\n                    onClick={() => setSpan(span * 1000)}\n                  />\n                  <label className=\"select_label\" for={`awesomeness-${span}`}>\n                    {span}秒\n                  </label>\n                </li>\n              );\n            })}\n          </ul>\n          <label\n            className=\"select_expandLabel\"\n            for=\"awesomeness-opener\"\n          ></label>\n        </li>\n      </ul>\n    </form>\n  );\n}\n","import React from \"react\";\n\nexport default function TweetCrawlerBrothers(props) {\n  const { searchText, setTimer, watch } = props;\n  return (\n    <table>\n      <tbody>\n        <tr>\n          <td>\n            <button\n              className=\"btn-social-long-twitter\"\n              onClick={() => {\n                if (searchText) setTimer(1);\n              }}\n            >\n              <i className=\"fa fa-twitter\"></i> <span>ツイート取得</span>\n            </button>\n          </td>\n          <td></td>\n          <td>\n            <button\n              className=\"btn-social-long-twitter\"\n              onClick={() => {\n                setTimer(0);\n                clearInterval(watch);\n              }}\n            >\n              <span>取得キャンセル</span>\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  );\n}\n","import base64url from \"base64url\";\n\nconst baseUrl = \"https://asia-northeast1-fanatag-cdc8c.cloudfunctions.net/api/\";\n\nexport function fetchTweets(text, password) {\n  const headers = {\n    Authorization: `Basic ${base64url(password)}`\n  };\n  return fetch(`${baseUrl}search?text=${encodeURIComponent(text)}`, {\n    headers\n  }).then(r => r.json());\n}\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\n\nimport CrawlerSpanDropdown from \"./components/crawler_span_dropdown\";\nimport TweetCrawlerBrothers from \"./components/tweet_crawler_brothers\";\nimport { fetchTweets } from \"./service/twitter\";\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nfunction App() {\n  const [tweets, setTweets] = useState([]);\n  const [searchText, setSearchText] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [timer, setTimer] = useState(0);\n  const [watch, setWatch] = useState(\"\");\n  const [span, setSpan] = useState(6000);\n  const spanList = [6, 10, 15, 30];\n\n  useEffect(() => {\n    if (!searchText) return;\n    if (timer > 0) {\n      fetchTweets(searchText, password).then(json => {\n        if (json.error)\n          return setError(\"認証エラーです。パスワードを確認してください。\");\n        setTweets([json[0]]);\n      });\n\n      setWatch(\n        setInterval(() => {\n          fetchTweets(searchText, password).then(json => {\n            if (json.error)\n              return setError(\"認証エラーです。パスワードを確認してください。\");\n            setTweets([json[0]]);\n          });\n        }, span)\n      );\n    }\n  }, [timer]);\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setError(\"\");\n    setTimer(0);\n    clearInterval(watch);\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <br />\n        <br />\n        {tweets.length > 0 ? (\n          <div\n            style={{\n              backgroundColor: \"#1da1f3\",\n              height: \"130px\",\n              width: \"500px\"\n            }}\n          >\n            <Grid container style={{ padding: \"2px\" }}>\n              <Grid\n                style={{\n                  minHeight: \"25px\",\n                  maxHeight: \"25px\",\n                  position: \"relative\"\n                }}\n                container\n                item\n                xs={12}\n              >\n                <Grid item xs={1} style={{ textAlign: \"center\" }}>\n                  <i className=\"fa fa-twitter\"></i>\n                </Grid>\n                <Grid item xs={5}>\n                  <Typography\n                    noWrap\n                    style={{\n                      fontWeight: \"bold\",\n                      fontSize: \"100%\"\n                    }}\n                  >\n                    {searchText}\n                  </Typography>\n                </Grid>\n              </Grid>\n              <Grid\n                style={{\n                  minHeight: \"105px\",\n                  maxHeight: \"105px\",\n                  position: \"relative\",\n                  backgroundColor: \"#ffffff\",\n                  paddingLeft: \"2px\"\n                }}\n                item\n                xs={12}\n                spacing={3}\n              >\n                <img\n                  src={tweets[0].image_url}\n                  style={{ height: \"15px\", borderRadius: \"50%\" }}\n                />\n                <Typography\n                  component=\"span\"\n                  style={{\n                    paddingLeft: \"5px\",\n                    fontWeight: \"bold\",\n                    fontSize: \"100%\",\n                    color: \"#000000\"\n                  }}\n                >\n                  {tweets[0].name}\n                </Typography>\n                <Typography\n                  component=\"span\"\n                  style={{\n                    paddingLeft: \"5px\",\n                    fontSize: \"70%\",\n                    color: \"#888888\"\n                  }}\n                >\n                  {tweets[0].id}\n                </Typography>\n                <Typography\n                  style={{\n                    fontSize: \"80%\",\n                    color: \"#000000\",\n                    margin: \"4px\"\n                  }}\n                >\n                  {tweets[0].text}\n                </Typography>\n              </Grid>\n            </Grid>\n          </div>\n        ) : (\n          \"\"\n        )}\n        <br />\n        <br />\n        <TweetCrawlerBrothers\n          searchText={searchText + password}\n          setTimer={setTimer}\n          watch={watch}\n        />\n        <br />\n        <br />\n        <TextField\n          id=\"filled-basic\"\n          component=\"span\"\n          style={{ backgroundColor: \"#ffffff\" }}\n          label=\"クロールしたい文字列\"\n          variant=\"filled\"\n          value={searchText}\n          disabled={timer > 0}\n          onChange={e => setSearchText(e.target.value)}\n        />\n        <br />\n\n        <TextField\n          id=\"filled-password-input\"\n          style={{ backgroundColor: \"#ffffff\" }}\n          label=\"Password\"\n          type=\"password\"\n          autoComplete=\"current-password\"\n          variant=\"filled\"\n          value={password}\n          disabled={timer > 0}\n          onChange={e => setPassword(e.target.value)}\n        />\n        <br />\n        {timer > 0 ? (\n          \"\"\n        ) : (\n          <CrawlerSpanDropdown spanList={spanList} setSpan={setSpan} />\n        )}\n      </header>\n\n      <Snackbar open={!!error} autoHideDuration={3000} onClose={handleClose}>\n        <Alert onClose={handleClose} severity=\"error\">\n          {error}\n        </Alert>\n      </Snackbar>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}